---
author: xnzone 
title: 物理层
date: 2023-02-27 10:04:00
image: https://s2.loli.net/2025/09/24/z6Q7rLm9OCyBMXN.jpg
cover: false
math: true
weight: 1002
tags: ["王道408", "计算机网络","物理层"]
---

## 基本概念

物理层解决如何在连接各种计算机的传输媒体上传输数据比特流，而不是指具体的传输媒体

- 主要任务：确定与传输媒体接口有关的一些特性
- 机械特性：定义物理连接的特性，规定物理连接时所采用的规格，接口形状，引脚数目和排列情况等
- 电气特性：规定传输二进制位时，线路上信号的电压范围，阻抗匹配，传输速率和距离限制等
- 功能特性：某条线上出现的某一电平表示某种意义，接口部件的信号线的用途
- 规程特性：定义各物理线路的工作规程和时序关系

## 数据通信

通信的目的是传送消息（语音文字图像视频等）

- 数据：传送信息的实体，通常是有意义的符号序列
- 信号：数据的电气/电磁的表现，是数据在传输过程中的存在形式
- 数字信号：消息的参数的取值是离散的
- 模拟信号：信息的参数的取值是连续的
- 信源：产生和发送数据的源头
- 信宿：接受数据的终点
- 信道：信号的传输媒介，包含发送信道和接收信道

按传输信号分模拟信道和数字信道

按传输介质分无线信道和有线信道

### 三种通信方式

- 单工通信：只有一个方向的通信而没有反方向的交互，仅通过一条信道。如广播
- 半双工通信：通信双方都可以发送或接受信息但是不能同时发送或接受，需要两条信道。如对讲机
- 全双工通信：通信双方可以同时发送和接受信息，也需要两条信道。如打电话

### 数据传输方式

- 串行传输：将一个字符的8位二进制数按低维到高维的顺序依次发送。速度慢，费用低，适合远距离
- 并行传输：将一个字符的8位二进制数同时向八条信道发送。速度快，费用高，适合近距离
- 同步传输：数据传送是以一个数据区块为单位，因此又称为区块传输。需要先送出一个或多个同步字符，再发送整批数据
- 异步传输：将比特分为小组进行传输，小组可以是8位的一个字符或者更长；发送方在任何时刻发送，而接收方不知道什么时候会到达；传输数据时，加一个字符起始位和一个字符终止位

### 码元

码元是指用一个固定长的信号波形，代表不同离散数值的基本波形时数字通信中数字信号的计量单位

这个时长内的信号称为k进制码元，而该时长称为码元宽度

码元的离散状态有几种就是几进制码元

1码元可以携带多个比特的信息量，2^n进制码元可以携带n进制信息量

### 速率

速率是指数据的传输速率，表示单位时间内传输的数据量

可以用码元传输速率和信息传输速率表示

码元传输速率：单位时间内数字通信系统所传输的码元个数，单位时波特(Baud)，1波特表示每秒传输一个码元

码元速率和进制无关，只和码元长度有关 R=1/T,T：码元长度，R：码元速率

信息传输速率表示单位时间内数字通信系统的二进制码元个数(比特数)，单位时b/s

关系：若一个码元携带n bit信息量，M Baud的码元传输速率对应的信息传输速率是 M*n (bit/s)

### 带宽

模拟信号中：输入的信号频率高或低到一定程度，使得系统的输出功率称为输入功率一半时，最高频率和最低频率之间的差值就代表了系统的通频带宽。单位Hz

数字设备中：表示在单位时间内从网络中的某一点到另一点所能通过的最高传输数据率/单位时间内通过链路的数量，常用来表示网络的通信线路所能传输的能力，单位是b/s

## 奈氏准则和香农定理

失真：在现实中的信道中出现的码元传输速率，信号传输距离，噪声干扰，传输媒体质量等因素可能产生失真，分为有失真但可识别和失真大无法识别

失真的一种现象-码间串扰：模拟信号的频率过高，接收端收到的信号波形失去了码元之间清晰界限的现象

### 奈氏准则

在理想低通条件下，为了避免码间串扰，极限传输速率为2WBaud，W为信道带宽，单位是Hz

理想低通信道下极限数据传输率=$2Wlog_2V$ (b/s)

在任何信道中，码元传输速率是有上限的，若传输速率超过此上线，就会出现严重的码间串扰问题，使接收单元对码元的完全正确识别成为不可能

信道的频带越宽，就能用更高的速率进行码元的有效传输

奈氏准则给出了码元传输速率的限制，但并没有对信息传输速率给出限制

码元传输速率收到奈氏准则的制约，所以要提高数据的传输速率，就必须设法使每个码元能携带更多个比特的信息位，这就需要采用多元制的调制方式

### 香农定理

噪声存在于所有的电子设备和通信信道中，由于噪声随机产生，它的瞬时值有时会很大

因此噪声会使接收端对码元的判决产生错误。但是噪声的影响是相对的，若幸好较强，那么噪声的影响相对较小

因此信噪比就很重要，信噪比=信号的平均功率/噪声的平均功率，单位为分贝

信道的极限数据传输速率=$Wlog_{2}{(1+S/N)}$ (b/s) W为带宽，S/N为信噪比

信道的带宽或信道中的信噪比越大，则信息的极限传输速率就越高

对一定传输带宽和一定的信噪比，信息传输速率的上限就确定了

只要信息传输速率低于信道的极限传输速率，就一定能找到某种方法来无差错的传输

香农定理得出的微极限信息传输速率，实际信道能达到的传输速率要比他低不少

从香农定理可以看出，若信道带宽W或信噪比S/N没有上限(不可能),那么信道的极限信息传输速率就没有上限

### 总结

- 奈氏准则：带宽受限无噪声条件下，避免码间串扰
- 香农定理：带宽受限有噪声条件下的信息传输速率

## 编码与调制

### 信道上传送的信号

**基带信号**

将数字信号1和0直接用两种不同的电压表示，再送到数字信道上去传输

来自信源的信号，像计算机输出的代表各种文字或图像文件的数据信号都属于基带信号

基带信号就是发出的直接表达了要传输信息的信号，比如我们说话的声波

**宽带信号**

将基带信号进行调制后形成的频分复用模拟信号，再传送到模拟信道上去传输

把基带信号经过载波调制后，把信号的频率范围搬移到较高的频段以便在信道中传输（即仅在一段频率范围内能够通过信道）

**应用**

在传输距离较近的时候，使用基带传输方式（近距离衰减小，从而信号内容不易发生变化）

在传输距离较远时，采用宽带传输方式（远距离衰减大，即使信号变化大也能最后过滤出基带信号）

### 编码与调制的过程

![](https://jihulab.com/xnzone/earth-bear/-/raw/master/network-physical-encode.jpg)

**数字数据编码为数字信号**

编码方式有下面六种

![](https://jihulab.com/xnzone/earth-bear/-/raw/master/network-physical-encode-type.jpg)

4B/5B编码，编码效率80%

**数字数据调制为模拟信号**

数字数据调制技术在发送端将数字信号转为模拟信号，而在接收端将模拟信号还原为数字信号，分别对应于调制解调器和解调过程

![](https://jihulab.com/xnzone/earth-bear/-/raw/master/network-physical-da.jpg)

**模拟信号编码为数字信号**

计算机内部处理的是二进制数据，处理的都是数字音频，所以需要将模拟信号通过采样、量化转换成有限个数字表示的离散序列（即实现音频数字化）

最典型的例子就是对音频信号进行编码的脉码调制（PCM），在计算机应用中，能够达到最高保真水平的就是PCM编码，被广泛应用于素材保存及音乐欣赏，CD，DVD以及我们常见的WAV文件中均有应用。主要包括三步：抽样、量化、编码

抽样：对模拟信号周期性扫描，把时间上连续的信号变成时间上离散的信号。f采样频率 >= 信号最高频率

量化：把抽样取得的电平幅值按照一定的分级标度转化为对应的数字值，并取整数，这就把连续的电平幅值转换为离散的数字量

编码：把量化的结果转换为与之对应的二进制编码

**模拟数据调制为模拟信号**

为了实现传输的有效性，可能需要较高的频率

这种调制方式还可以使用频分复用技术，充分利用带宽资源

在电话机和本地交换机所传输的信号是采用模拟信号传输模拟数据的方式

模拟的声音数据是加载模拟的载波信号中传输的

## 数据交换方式

为什么要数据交换：通过某些交换中心将数据进行集中和传送，传输路线为各个用户公用，从二大大节省通信线路，降低系统费用

### 交换方式

- 电路交换
- 报文交换（存储转发交换方式）
- 分组交换（存储转发交换方式）：分为数据报方式和虚电路方式

### 电路交换

![](https://jihulab.com/xnzone/earth-bear/-/raw/master/network-physical-cs-1.jpg)

![](https://jihulab.com/xnzone/earth-bear/-/raw/master/network-physical-cs-2.jpg)

### 报文交换

![](https://jihulab.com/xnzone/earth-bear/-/raw/master/network-physical-me-1.jpg)

![](https://jihulab.com/xnzone/earth-bear/-/raw/master/network-physical-me-2.jpg)

### 分组交换

![](https://jihulab.com/xnzone/earth-bear/-/raw/master/network-physical-ps-1.jpg)

![](https://jihulab.com/xnzone/earth-bear/-/raw/master/network-physical-ps-2.jpg)

### 数据交换的选择

传输数据量大，且传送时间远大于呼叫时，选择电路交换，电路交换传输时延最小

当端到端的通路有许多段的链路组成时，采用分组交换传输数据较为合适

从信道利用率来看，报文交换和分组交换优于电路交换，其中分组交换比报文交换的时延小，尤其适合于计算机之间突发式的数据通信

### 分组交换-数据报方式

![](https://jihulab.com/xnzone/earth-bear/-/raw/master/network-physical-ps-m.jpg)

数据报方式为网络层提供无连接服务。发送方可以随时发送分组，网络中的节点可随时接收分组

无连接服务：不事先为分组的传输确定传输路径，每个分组独立确定传输路径，不同分组传输路径可能不同

统一报文的不同分组到达目的节点时可能出现乱序、重复和丢失

每个分组在传输过程中都必须携带源地址和目的地址以及分组号

分组在交换节点存储转发时，需要排队等候处理，这会带来一定的时延。当通过交换节点的通信量较大或网络发生拥塞时，这种时延会大大增加，交换节点还可根据情况丢弃部分分组

网络具有冗余路径，当某一交换节点或一段链路出现故障时，可相应的更新转发表，寻找另一条路径转发分组，对故障的适应能力强，适用于突发性通信，不适于长报文、会话式通信


### 分组交换-虚电路方式

![](https://jihulab.com/xnzone/earth-bear/-/raw/master/network-physical-ps-v.jpg)

虚电路方式为网络层提供连接服务。源节点和目的节点之间建立一个逻辑连接而非物理连接

连接服务：首先为分组的传输确定传输路径，然后沿着路径传输系列分组，系列分组传输路径相同，传输结束后拆除连接

一次通信的所有分组都通过虚电路顺序传送，分组不需要携带源地址等信息，包含虚电路号，相对数据报方式开销小，同一报文的不同分组到达目的节点时不会乱序，重复或丢失

分组通过虚电路上的每个节点时，节点只进行差错检测，不需要进行路由选择

每个节点可能与多个节点之间建立多余虚电路，每条虚电路支持特定的两个端系统之间的数据传输，可以对两个数据端点的流量进行控制，两个端系统之间也可以有多条虚电路为不同的进程服务

致命弱点：当网络中某个节点或某条链路出现故障而彻底失效时，则经过该节点或链路的虚电路将遭到破坏

### 虚电路和数据报的区别

![](https://jihulab.com/xnzone/earth-bear/-/raw/master/network-physical-ps-mv-diff.jpg)

## 物理传输介质

### 介绍

传输介质也被称为传输媒体，是数据传输系统中在发送设备和接收设备之间的物理通路。

传输层不是物理层，在物理层的下面，有时候也被称为第0层。

物理层规定了电气特性，因此能够识别传送的比特流。

### 分类

导向型传输介质，电磁波被导向沿着固体媒介（铜线/光纤）传播

非导向性传输介质，自由空间，介质可以是真空、空气、海水等。

### 导向型传输介质

具体有：双绞线，同轴电缆，光纤

**光纤特点**

- 传输损耗小，中继距离长，对远距离传输特别经济
- 抗雷电和电磁干扰性能好
- 无串音干扰，保密性好，不易被窃听或截取数据
- 体积小，重量轻

### 非导向性传输介质 

无线电波：向所有方向传播，较强穿透能力，可传远距离，广泛用于通信领域（如手机通信）

微波：信号固定方向传播，微波通信频率较高频段范围宽，数据率高，分为地面微波接力通信和卫星通信

红外线、激光：信号固定方向传播，把要传输的信号分别转换为各自的信号格式，即红外光信号和激光信号，再到空间中传播

## 物理层设备

### 中继器

由于存在损耗，在线路上传输的信号功率会逐渐衰减，衰减到一定程度时将造成信号失真，因此会导致接收错误。

中继器对信号进行再生和还原，对衰减的信号进行放大，保持与原数据相同，以增加信号传输的距离，延长网络的长度。

中继器的两端：

- 两端的网络部分是网段，而不是子网，适用于完全相同的两类网络的互连，且两个网段速率要相同。
- 中继器只将任何电缆段上的数据发送到另一段电缆上，它仅作用于信号的电气部分，并不管数据中是否有错误数据或不适于网段的数据。
- 两端可连相同媒体，也可连不同媒体。
- 中继器两端的网段一定要是同一个协议。

5-4-3规则：
- 网络标准中都对信号的延迟范围作了具体的规定，因而中继器只能在规定的范围内进行，否则会网络故障。
- 最多五个网段，只能有四个网络设备（可以是中继器、集线器等），只有三个段中可以挂载计算机

### 集线器

也被称为多口中继器，星型拓扑设备。

对信号进行再生放大转发，对衰减的信号进行放大，接着转发到其他所有（除输入端口外）处于工作状态的端口上，以增加信号传输的距离，延长网络的长度。不具备信号的定向传送能力，是一个共享式设备。

不能分割冲突域，连载集线器上的工作设备平分带宽。
